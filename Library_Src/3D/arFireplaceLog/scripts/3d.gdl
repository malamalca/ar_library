ROTX 90ADD 0, A/2, -B/2ROTZ -axis_rotPEN pen_3dIF show_3d = "simple" THEN	SET MATERIAL mat_core	PRISM 6, B, 	0, -A/2,	sin(angle/4)*A, -cos(angle/4)*A + A/2,	sin(angle/2)*A, -cos(angle/2)*A + A/2,	0, A/2,	-sin(angle/2)*A, -cos(angle/2)*A + A/2,	-sin(angle/4)*A, -cos(angle/4)*A + A/2ELSE IF show_3d = "detailed" THEN	SET MATERIAL mat_core	PRISM 6, B, 	0, -A/2 + crust_width,	sin(angle/4)*(A - crust_width), -cos(angle/4)*(A - crust_width) + A/2,	sin(angle/2)*(A - crust_width), -cos(angle/2)*(A - crust_width) + A/2,	0, A/2,	-sin(angle/2)*(A - crust_width), -cos(angle/2)*(A - crust_width) + A/2,	-sin(angle/4)*(A - crust_width), -cos(angle/4)*(A - crust_width) + A/2	SET MATERIAL mat_crust	PRISM 10, B, 	0, -A/2 + crust_width,	sin(angle/4)*(A - crust_width), -cos(angle/4)*(A - crust_width) + A/2,	sin(angle/2)*(A - crust_width), -cos(angle/2)*(A - crust_width) + A/2,	sin(angle/2)*A, -cos(angle/2)*A + A/2,sin(angle/4)*A, -cos(angle/4)*A + A/2,0, -A/2,-sin(angle/4)*A, -cos(angle/4)*A + A/2,-sin(angle/2)*A, -cos(angle/2)*A + A/2,	-sin(angle/2)*(A - crust_width), -cos(angle/2)*(A - crust_width) + A/2,	-sin(angle/4)*(A - crust_width), -cos(angle/4)*(A - crust_width) + A/2ENDIF!baseHOTSPOT 0, -A/2, 0, 1, axis_rot, 4!movingHOTSPOT  sin(axis_rot)*A/2, -cos(axis_rot)*A/2, 0, 2, axis_rot, 5!centerHOTSPOT 0, 0, 0, 3, axis_rot, 6+512!referenceHOTSPOT 0, 0, -A, 4, axis_rot, 7