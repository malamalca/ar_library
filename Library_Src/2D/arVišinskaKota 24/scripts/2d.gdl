ret = REQUEST ("Level_dimension", "", dim_format)DEFINE STYLE "Internal" t_font, t_size / GLOB_SCALE * 100, 9, 0SET STYLE "Internal"n = REQUEST ("Height_of_style", "Internal", textHeight)textHeight = textHeight/ 1000 * GLOB_SCALEcoord_pre = ""IF coord_z > 0 THEN	coord_pre = "+"ENDIFIF ROUND_INT(coord_z * 10000) = 0 THEN	coord_pre = "±"ENDIF! upper linestring = ""string_w = 0IF sel_style_n = 1 THEN	string = custom_string_u	string_w = STW(custom_string_u)/1000*GLOB_SCALEELSE IF sel_style_n > 1 THEN	!coord_z = GLOB_HSTORY_ELEV + GLOB_ELEVATION	ret = REQUEST("REFERENCE_LEVEL_DATA", "", name1, elev1, name2, elev2, name3, elev3, name4, elev4)	l_dim = 0	IF sel_style_n = 3 THEN		l_dim = elev1 + coord_z	ENDIF	IF sel_style_n = 2 THEN		l_dim = elev1 + coord_z + ZZYZX	ENDIF	IF sel_style_n = 5 THEN		l_dim = elev2 + coord_z	ENDIF	IF sel_style_n = 4 THEN		l_dim = elev2 + coord_z + ZZYZX	ENDIF	IF sel_style_n = 7 THEN		l_dim = elev3 + coord_z	ENDIF	IF sel_style_n = 6 THEN		l_dim = elev3 + coord_z + ZZYZX	ENDIF	IF sel_style_n = 9 THEN		l_dim = GLOB_PROJECT_ALTITUDE + coord_z	ENDIF	IF sel_style_n = 8 THEN		l_dim = GLOB_PROJECT_ALTITUDE + coord_z + ZZYZX	ENDIF	l_string_pre = ""	IF l_dim  > 0 THEN		l_string_pre = "+"	ENDIF	IF ROUND_INT(l_dim * 10000) = 0 THEN		l_string_pre = "±"	ENDIF	string = upper_prefix + l_string_pre + STR(dim_format, l_dim)	string_w = STW(string)/1000*GLOB_SCALEENDIF! lower linel_string = ""l_string_w = 0IF sel_style_m = 1 THEN	l_string = custom_string	l_string_w = STW(custom_string)/1000*GLOB_SCALEELSE IF sel_style_m > 1 THEN	ret = REQUEST("REFERENCE_LEVEL_DATA", "", name1, elev1, name2, elev2, name3, elev3, name4, elev4)	l_dim = 0	IF sel_style_m = 3 THEN		l_dim = elev1 + coord_z	ENDIF	IF sel_style_m = 2 THEN		l_dim = elev1 + coord_z + ZZYZX	ENDIF	IF sel_style_m = 5 THEN		l_dim = elev2 + coord_z		!l_dim = elev2 + ac_bottomlevel	ENDIF	IF sel_style_m = 4 THEN		l_dim = elev2 + coord_z + ZZYZX		!l_dim = elev2 + ac_toplevel	ENDIF	IF sel_style_m = 7 THEN		l_dim = elev3 + coord_z	ENDIF	IF sel_style_m = 6 THEN		l_dim = elev3 + coord_z + ZZYZX	ENDIF	IF sel_style_m = 9 THEN		l_dim = GLOB_PROJECT_ALTITUDE + coord_z	ENDIF	IF sel_style_m = 8 THEN		l_dim = GLOB_PROJECT_ALTITUDE + coord_z + ZZYZX	ENDIF	l_string_pre = ""	IF l_dim  > 0 THEN		l_string_pre = "+"	ENDIF	IF ROUND_INT(l_dim * 10000) = 0 THEN		l_string_pre = "±"	ENDIF	l_string =  lower_prefix + l_string_pre + STR(dim_format, l_dim)	l_string_w = STW(l_string) / 1000 * GLOB_SCALEENDIF! find larger string sizereal_string_w = string_wIF l_string_w > string_w THEN	real_string_w = l_string_wENDIF! display markermarker_r = 0IF marker_extension THEN	marker_r = real_string_wENDIFLINE2 -marker_size/2, 0, marker_size/2 + marker_r, 0if kind = 0 then	! floor plan style	LINE2 0, -marker_size/2, 0, marker_size/2	CIRCLE2 0, 0, marker_size/6else	! section style	line2 -marker_size/2, 0, 0, -marker_size/2	line2 0, -marker_size/2, 0, marker_size	hotspot2 0, -marker_size/2endifHOTSPOT2 0,0! display tekstIF sel_style_n > 0 THEN	TEXT2 marker_size/2 + real_string_w, 0, stringENDIFIF sel_style_m > 0 THEN	TEXT2 marker_size/2 + real_string_w, -textHeight * 1.2, l_stringENDIF