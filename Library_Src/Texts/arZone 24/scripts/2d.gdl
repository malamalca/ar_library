if hideAll then endscaleFactor = GLOB_SCALE / 1000DEFINE STYLE "roomStyleText"  AC_TextFont_1 , ROOM_LSIZE , 1, 0DEFINE STYLE "roomStyleSuperscript"  AC_TextFont_1 , ROOM_LSIZE * 0.6, 1, 0STYLE roomStyleSuperscriptwidthSuperscript = STW("2") * scaleFactorSTYLE roomStyleTextheightOfStyle = 0result = REQUEST("Height_of_style", "roomStyleText", heightOfStyle)heightOfStyle = heightOfStyle * scaleFactor! ***! Numeric format as set in preferencesareaFormat = ""result = REQUEST("Area_dimension", "", areaFormat)areaUnit = "m" 													! no square included! ***! Create text lines of minimal lengthdefZoneTitle = ROOM_NAME + "   " + masterID + " " + ROOM_NUMBERdefZoneFinish = floorFinish + "   " + STR(areaFormat, ROOM_AREA) + " " + areaUnitzoneElevation = GLOB_HSTORY_ELEV + ROOM_BASELEV + ROOM_FL_THICKdefZoneElevation = STR(areaFormat, zoneElevation) + " " + areaUnitIF zoneElevation > 0.001 THEN defZoneElevation = "+" + defZoneElevationIF ABS(zoneElevation) < 0.001 THEN defZoneElevation = "±" + defZoneElevationwidthZoneTitle = STW(defZoneTitle) * scaleFactorwidthFloorFinish = STW(defZoneFinish) * scaleFactor + widthSuperscriptwidthZoneElevation = STW(defZoneElevation) * scaleFactormaxLineWidth = MAX(widthZoneTitle, widthFloorFinish, widthZoneElevation)posY = 0! ***! Display room title and numberroomNumberString =  masterID + " " + ROOM_NUMBERTEXT2 0, 0, ROOM_NAMETEXT2 maxLineWidth - STW(roomNumberString ) * scaleFactor, posY, roomNumberString ! ***! Display line under room titleIF drawLineUnderTitle THEN	LINE2 0, -heightOfStyle, maxLineWidth, -heightOfStyle	HOTLINE2 0, -heightOfStyle, maxLineWidth, -heightOfStyle	HOTSPOT2 0, -heightOfStyle	HOTSPOT2 maxLineWidth, -heightOfStyleENDIF! ***! Display upper hotspotsHOTSPOT2 0, 0HOTSPOT2 maxLineWidth, 0posY = posY - heightOfStyle! ***! Display floor finish and room areaTEXT2 0, posY, floorFinishIF showArea THEN	roomAreaPosX = maxLineWidth - STW(STR(areaFormat, ROOM_AREA) + " " + areaUnit) * scaleFactor - widthSuperscript	roomAreaText = STR(areaFormat, ROOM_AREA) + " " + areaUnit	roomAreaTextWidth = STW(roomAreaText) / 1000 * GLOB_SCALE		IF floorFinish = "" THEN		roomAreaPosX = 0	ENDIF		TEXT2 roomAreaPosX, posY, roomAreaText	STYLE roomStyleSuperscript	TEXT2 roomAreaPosX + roomAreaTextWidth, posY, "2": STYLE roomStyleText	posY = posY - heightOfStyle * 0.9ENDIF! ***! Display room elevationIF showElevation THEN    	markerSize = heightOfStyle / 3	markerSize2 = markerSize * SIN(60)	markerDistToText = heightOfStyle / 4	!markerPlacementFromLeft = - markerSize - markerDistToText + maxLineWidth - STW(STR(areaFormat, ROOM_BASELEV) + " " + areaUnit) * scaleFactor - widthSuperscript	markerPlacementFromLeft = 0	markerPlacementFromTop = posY - heightOfStyle/2		LINE2 markerPlacementFromLeft, markerPlacementFromTop, markerPlacementFromLeft+markerSize, markerPlacementFromTop	LINE2 markerPlacementFromLeft, markerPlacementFromTop, markerPlacementFromLeft+markerSize/2, markerPlacementFromTop - markerSize2 	LINE2 markerPlacementFromLeft+markerSize, markerPlacementFromTop, markerPlacementFromLeft+markerSize/2, markerPlacementFromTop - markerSize2 		!TEXT2 maxLineWidth - STW(defZoneElevation) * scaleFactor - widthSuperscript, posY, defZoneElevation	TEXT2 markerPlacementFromLeft + markerSize + markerDistToText, posY, defZoneElevation	posY = posY - heightOfStyle * 0.9ENDIF! ***! Display bottom hotspotsHOTSPOT2 0, posYHOTSPOT2 maxLineWidth, posY